app:
  version_check_url: "https://raw.githubusercontent.com/sansan0/TrendRadar/refs/heads/master/version"
  show_version_update: true # Show version update notifications (false = disable)
  # Timezone configuration (affects all time displays, push windows, data storage)
  # Common timezones:
  #   - America/New_York (Eastern Time UTC-5/-4)
  #   - America/Los_Angeles (Pacific Time UTC-8/-7)
  #   - America/Chicago (Central Time UTC-6/-5)
  #   - Europe/London (GMT/BST UTC+0/+1)
  #   - Asia/Shanghai (China Standard Time UTC+8)
  # Full timezone list: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
  timezone: "America/New_York"

# Storage configuration
storage:
  # Storage backend: local / remote / auto
  # - local: Local SQLite + TXT/HTML files
  # - remote: Remote cloud storage (S3-compatible: R2/S3/GCS etc.)
  # - auto: Auto-select (uses remote if in GitHub Actions with remote config, otherwise local)
  backend: "auto"

  # Data format options
  formats:
    sqlite: true       # Primary storage (must be enabled)
    txt: false         # Generate TXT snapshots
    html: false        # Generate HTML reports (‚ö†Ô∏è Required for email notifications)

  # Local storage configuration
  local:
    data_dir: "output"        # Data directory
    retention_days: 0         # Local data retention days (0 = no cleanup)

  # Remote storage configuration (S3-compatible)
  # Supports: AWS S3, Cloudflare R2, Google Cloud Storage, MinIO, etc.
  # Recommended: Store sensitive info in GitHub Secrets or environment variables
  remote:
    # Data retention days (0 = no cleanup)
    retention_days: 0
    # S3-compatible configuration
    endpoint_url: ""          # Service endpoint (or env var S3_ENDPOINT_URL)
                              # AWS S3: https://s3.amazonaws.com
                              # Cloudflare R2: https://<account_id>.r2.cloudflarestorage.com
                              # Google Cloud: https://storage.googleapis.com
    bucket_name: ""           # Bucket name (or env var S3_BUCKET_NAME)
    access_key_id: ""         # Access key ID (or env var S3_ACCESS_KEY_ID)
    secret_access_key: ""     # Secret access key (or env var S3_SECRET_ACCESS_KEY)
    region: ""                # Region (optional, or env var S3_REGION)

  # Data pull configuration (sync from remote to local)
  # Use case: Crawler stores to remote, MCP Server pulls to local for analysis
  pull:
    enabled: false            # Enable auto-pull on startup
    days: 7                   # Pull last N days of data (0 = no pull)

crawler:
  request_interval: 1000 # Request interval (milliseconds)
  enable_crawler: true # Enable news crawling (false = exit program)
  use_proxy: false # Enable proxy (false = disabled)
  default_proxy: "http://127.0.0.1:10801"

# Report Modes:
#
# üî∏ daily (Daily Summary Mode)
#   ‚Ä¢ Push timing: Scheduled (default: hourly)
#   ‚Ä¢ Content: All matched news today + new news section
#   ‚Ä¢ Use case: Daily digest, comprehensive trend overview
#
# üî∏ current (Current Rankings Mode)
#   ‚Ä¢ Push timing: Scheduled (default: hourly)
#   ‚Ä¢ Content: Current ranking matches + new news section
#   ‚Ä¢ Use case: Real-time tracking, see what's trending now
#
# üî∏ incremental (Incremental Mode)
#   ‚Ä¢ Push timing: Only when new matches found
#   ‚Ä¢ Content: Newly matched keyword news only
#   ‚Ä¢ Use case: Avoid notification fatigue, alert on new items only

# Report mode selection
report:
  mode: "current" # Options: "daily"|"incremental"|"current"
  rank_threshold: 5 # Highlight threshold for top rankings
  sort_by_position_first: false # Sort priority: true=config order, false=by match count
  max_news_per_keyword: 0 # Max news per keyword (0 = unlimited)
  reverse_content_order: false # Content order: false=keywords first, true=new news first

notification:
  enable_notification: true # Enable notifications (false = no push notifications)
  message_batch_size: 4000 # Message batch size in bytes (do not change)
  dingtalk_batch_size: 20000 # DingTalk batch size in bytes (do not change)
  feishu_batch_size: 30000 # Feishu/Lark batch size in bytes
  bark_batch_size: 4000 # Bark batch size in bytes
  slack_batch_size: 4000 # Slack batch size in bytes
  batch_send_interval: 3 # Batch send interval in seconds
  feishu_message_separator: "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ" # Feishu message separator
  max_accounts_per_channel: 3 # Max accounts per channel (recommended: 3 or less)

  # üïê Push Window Control (optional)
  # Purpose: Limit push notifications to specific time ranges
  # Use cases:
  #   - Only receive during work hours (e.g., 09:00-18:00)
  #   - Get daily summary at a fixed time (e.g., 20:00-22:00)
  push_window:
    enabled: false  # Enable push window control (default: disabled)
    # Note: GitHub Actions timing is inconsistent; allow at least 2-hour window
    # For precise scheduling, use Docker deployment on your own server
    time_range:
      start: "09:00"  # Push window start time
      end: "18:00"    # Push window end time
    once_per_day: true  # Push only once per day in window (false = push on each run)

  # ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è IMPORTANT SECURITY WARNING ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è
  #
  # üî¥ NEVER expose webhooks publicly!
  # üî¥ If deploying via GitHub fork, DO NOT fill webhooks below
  # üî¥ Instead, add them to GitHub Secrets (Settings ‚Üí Secrets and variables ‚Üí Actions)
  # üî¥ Consequences of exposure:
  #    - Minor: Spam notifications flooding your devices
  #    - Severe: Webhook abuse leading to security incidents (phishing, spam attacks)
  #
  # ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è MULTI-ACCOUNT SUPPORT ‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è
  #
  # üî∏ Multiple accounts per channel:
  #   ‚Ä¢ Use semicolon (;) to separate multiple accounts: "url1;url2;url3"
  #   ‚Ä¢ Example: telegram_bot_token: "token1;token2" with telegram_chat_id: "id1;id2"
  #   ‚Ä¢ For paired configs (e.g., Telegram token and chat_id), counts must match
  #   ‚Ä¢ Each channel supports up to max_accounts_per_channel accounts
  #   ‚Ä¢ Email supports multiple recipients (comma-separated)
  #
  webhooks:
    feishu_url: "" # Feishu/Lark webhook URL (multiple: use ; separator)
    dingtalk_url: "" # DingTalk webhook URL (multiple: use ; separator)
    wework_url: "" # WeCom/WeChat Work webhook URL (multiple: use ; separator)
    wework_msg_type: "markdown" # WeCom message type: markdown (group bot) or text (personal app)
    telegram_bot_token: "" # Telegram Bot Token (multiple: use ; separator, must match chat_id count)
    telegram_chat_id: "" # Telegram Chat ID (multiple: use ; separator, must match bot_token count)
    email_from: "" # Sender email address
    email_password: "" # Sender email password or app password
    email_to: "" # Recipient email addresses (multiple: use , separator)
    email_smtp_server: "" # SMTP server address (optional, auto-detected for common providers)
    email_smtp_port: "" # SMTP port (optional, auto-detected)
    ntfy_server_url: "https://ntfy.sh" # ntfy server URL (default: public server, can use self-hosted)
    ntfy_topic: "" # ntfy topic name (multiple: use ; separator)
    ntfy_token: "" # ntfy access token (optional, for private topics, multiple: use ; separator)
    bark_url: "" # Bark push URL (multiple: use ; separator, format: https://api.day.app/your_device_key)
    slack_webhook_url: "" # Slack Incoming Webhook URL (multiple: use ; separator)

# Ranking weight configuration
# Controls how news items are sorted by combining different factors (should sum to 1)
weight:
  rank_weight: 0.6 # Weight for ranking position
  frequency_weight: 0.3 # Weight for appearance frequency
  hotness_weight: 0.1 # Weight for hotness/engagement

# Platform configuration
# Note: 'name' is for display only; changing it won't affect data collection
# Available US-focused platforms from NewsNow API:
#   - hackernews: Hacker News (tech news & discussions)
#   - producthunt: Product Hunt (startup launches)
#   - github: GitHub Trending (developer projects)
#   - mktnews: Market News (US financial news)
#   - mktnews-flash: Market News Flash (breaking financial)
#   - steam: Steam Top Games (gaming trends)
platforms:
  - id: "hackernews"
    name: "Hacker News"
  - id: "producthunt"
    name: "Product Hunt"
  - id: "mktnews"
    name: "Market News"
  - id: "mktnews-flash"
    name: "Market Flash"
  - id: "github"
    name: "GitHub Trending"
  - id: "steam"
    name: "Steam Games"
